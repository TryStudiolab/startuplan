<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>創業計劃書模擬器</title>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <style>
        /* 保留原有的樣式 */
        /* ... */

        .financial-section {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }

        .financial-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .financial-subsection {
            margin-top: 20px;
            border-top: 1px solid #bdc3c7;
            padding-top: 15px;
        }

        .financial-note {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 10px;
        }

        /* 在小屏幕上調整佈局 */
        @media (max-width: 768px) {
            .financial-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/javascript">
        const { useState } = React;

        function StartupPlanForm() {
            const [formData, setFormData] = useState({
                companyName: '',
                mission: '',
                productDescription: '',
                targetMarket: '',
                competitiveAdvantage: '',
                initialInvestment: '',
                monthlyFixedCosts: '',
                monthlyVariableCosts: '',
                expectedUnitPrice: '',
                expectedMonthlySales: '',
                breakevenPoint: '',
                projectedAnnualRevenue: '',
                projectedAnnualProfit: '',
                paybackPeriod: '',
                fundingNeeds: '',
                returnOnInvestment: '',
                cashFlowProjection: '',
                riskAssessment: ''
            });

            const [showPreview, setShowPreview] = useState(false);

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prevData => ({
                    ...prevData,
                    [name]: value
                }));
            };

            const PreviewSection = ({ title, content }) => (
                <div className="preview-section">
                    <div className="preview-title">{title}</div>
                    <div className="preview-content">{content}</div>
                </div>
            );

            return (
                <div className="container">
                    <h1>創業計劃書模擬器</h1>
                    <form>
                        {/* 保留原有的表單欄位 */}
                        {/* ... */}
                        
                        <div className="financial-section">
                            <h2>六、財務預測</h2>
                            
                            <div className="financial-subsection">
                                <h3>初始投資與成本</h3>
                                <div className="financial-grid">
                                    <input
                                        type="number"
                                        name="initialInvestment"
                                        value={formData.initialInvestment}
                                        onChange={handleChange}
                                        placeholder="初始投資總額"
                                        required
                                    />
                                    <input
                                        type="number"
                                        name="monthlyFixedCosts"
                                        value={formData.monthlyFixedCosts}
                                        onChange={handleChange}
                                        placeholder="月固定成本"
                                        required
                                    />
                                    <input
                                        type="number"
                                        name="monthlyVariableCosts"
                                        value={formData.monthlyVariableCosts}
                                        onChange={handleChange}
                                        placeholder="月變動成本"
                                        required
                                    />
                                </div>
                                <div className="financial-note">
                                    請仔細評估所有可能的成本，包括租金、薪資、原材料等。
                                </div>
                            </div>

                            <div className="financial-subsection">
                                <h3>收入預測</h3>
                                <div className="financial-grid">
                                    <input
                                        type="number"
                                        name="expectedUnitPrice"
                                        value={formData.expectedUnitPrice}
                                        onChange={handleChange}
                                        placeholder="預期單價"
                                        required
                                    />
                                    <input
                                        type="number"
                                        name="expectedMonthlySales"
                                        value={formData.expectedMonthlySales}
                                        onChange={handleChange}
                                        placeholder="預期月銷量"
                                        required
                                    />
                                    <input
                                        type="number"
                                        name="projectedAnnualRevenue"
                                        value={formData.projectedAnnualRevenue}
                                        onChange={handleChange}
                                        placeholder="預計年收入"
                                        required
                                    />
                                </div>
                                <div className="financial-note">
                                    基於市場研究和競爭分析來估算這些數字。考慮季節性因素和市場趨勢。
                                </div>
                            </div>

                            <div className="financial-subsection">
                                <h3>盈利能力分析</h3>
                                <div className="financial-grid">
                                    <input
                                        type="number"
                                        name="breakevenPoint"
                                        value={formData.breakevenPoint}
                                        onChange={handleChange}
                                        placeholder="損益平衡點（單位）"
                                        required
                                    />
                                    <input
                                        type="number"
                                        name="projectedAnnualProfit"
                                        value={formData.projectedAnnualProfit}
                                        onChange={handleChange}
                                        placeholder="預計年利潤"
                                        required
                                    />
                                    <input
                                        type="number"
                                        name="paybackPeriod"
                                        value={formData.paybackPeriod}
                                        onChange={handleChange}
                                        placeholder="預期回收期（月）"
                                        required
                                    />
                                    <input
                                        type="number"
                                        name="returnOnInvestment"
                                        value={formData.returnOnInvestment}
                                        onChange={handleChange}
                                        placeholder="投資回報率（%）"
                                        required
                                    />
                                </div>
                                <div className="financial-note">
                                    計算這些指標以評估您的業務在財務上的可行性。
                                </div>
                            </div>

                            <div className="financial-subsection">
                                <h3>資金需求與現金流</h3>
                                <div className="financial-grid">
                                    <input
                                        type="number"
                                        name="fundingNeeds"
                                        value={formData.fundingNeeds}
                                        onChange={handleChange}
                                        placeholder="資金需求"
                                        required
                                    />
                                    <textarea
                                        name="cashFlowProjection"
                                        value={formData.cashFlowProjection}
                                        onChange={handleChange}
                                        placeholder="現金流預測（概述首年每月現金流）"
                                        required
                                    />
                                </div>
                                <div className="financial-note">
                                    詳細規劃您的資金來源和使用，以及預期的現金流入和流出。
                                </div>
                            </div>

                            <div className="financial-subsection">
                                <h3>風險評估</h3>
                                <textarea
                                    name="riskAssessment"
                                    value={formData.riskAssessment}
                                    onChange={handleChange}
                                    placeholder="列出潛在的財務風險和緩解策略"
                                    required
                                />
                                <div className="financial-note">
                                    識別可能影響財務表現的風險，並提出相應的應對策略。
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" onClick={() => setShowPreview(!showPreview)}>
                            {showPreview ? '隱藏預覽' : '顯示預覽'}
                        </button>
                    </form>

                    {showPreview && (
                        <div id="preview" className="fade-in">
                            <h2>預覽</h2>
                            {/* 保留原有的預覽部分 */}
                            {/* ... */}
                            <PreviewSection 
                                title="六、財務預測" 
                                content={
                                    <>
                                        <h3>初始投資與成本</h3>
                                        <p>初始投資總額：{formData.initialInvestment}</p>
                                        <p>月固定成本：{formData.monthlyFixedCosts}</p>
                                        <p>月變動成本：{formData.monthlyVariableCosts}</p>

                                        <h3>收入預測</h3>
                                        <p>預期單價：{formData.expectedUnitPrice}</p>
                                        <p>預期月銷量：{formData.expectedMonthlySales}</p>
                                        <p>預計年收入：{formData.projectedAnnualRevenue}</p>

                                        <h3>盈利能力分析</h3>
                                        <p>損益平衡點：{formData.breakevenPoint} 單位</p>
                                        <p>預計年利潤：{formData.projectedAnnualProfit}</p>
                                        <p>預期回收期：{formData.paybackPeriod} 月</p>
                                        <p>投資回報率：{formData.returnOnInvestment}%</p>

                                        <h3>資金需求與現金流</h3>
                                        <p>資金需求：{formData.fundingNeeds}</p>
                                        <p>現金流預測：{formData.cashFlowProjection}</p>

                                        <h3>風險評估</h3>
                                        <p>{formData.riskAssessment}</p>
                                    </>
                                } 
                            />
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(React.createElement(StartupPlanForm), document.getElementById('root'));
    </script>
</body>
</html>
